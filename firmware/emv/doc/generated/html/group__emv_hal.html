<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AS3911 EMV L1 Certification Firmware: EMV RFID Hardware Abstraction Layer.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AS3911 EMV L1 Certification Firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">EMV RFID Hardware Abstraction Layer.</div>  </div>
<div class="ingroups"><a class="el" href="group__emv.html">EMV</a></div></div>
<div class="contents">

<p>This module abstracts the RFID hardware in use from the EMV L1 contactless comunication protocol stack.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#gae3a828870ffbaeb8a604357300b61964">EmvHalStandard_t</a> { <a class="el" href="group__emv_hal.html#ggae3a828870ffbaeb8a604357300b61964a675222474207e0ce3c843dbc53c5a557">EMV_HAL_TYPE_A</a>, 
<a class="el" href="group__emv_hal.html#ggae3a828870ffbaeb8a604357300b61964a2b41a686151fe5cafbe544ac37600465">EMV_HAL_TYPE_B</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#gaf325c890a4b7b44ef26e6fb3d36b2cfa">EmvHalErrorHandling_t</a> { <a class="el" href="group__emv_hal.html#ggaf325c890a4b7b44ef26e6fb3d36b2cfaa7b186c13d87ff903b6207ddec71b917a">EMV_HAL_PREACTIVATION_ERROR_HANDLING</a>, 
<a class="el" href="group__emv_hal.html#ggaf325c890a4b7b44ef26e6fb3d36b2cfaa2cc939ddd0772de495b5b9018445e0b2">EMV_HAL_LAYER4_ERROR_HANDLING</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#ga41b19fbc2477bf08d616136e56b6b5ef">EmvHalTransceiveMode_t</a> { <a class="el" href="group__emv_hal.html#gga41b19fbc2477bf08d616136e56b6b5efaf3218aacbe68e715e961add20a3f4f36">EMV_HAL_TRANSCEIVE_WITH_CRC</a>, 
<a class="el" href="group__emv_hal.html#gga41b19fbc2477bf08d616136e56b6b5efa303088e16752f9e7fc4de510f7e74a80">EMV_HAL_TRANSCEIVE_WITHOUT_CRC</a>, 
<a class="el" href="group__emv_hal.html#gga41b19fbc2477bf08d616136e56b6b5efa5e45e02ba817488999c5c11c25ed91e8">EMV_HAL_TRANSCEIVE_WUPA</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#ga5bd090c73c3cc59b664cade9f7b230fb">emvHalSleepMilliseconds</a> (u16 milliseconds)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for <em>millseconds</em> milliseconds.  <a href="#ga5bd090c73c3cc59b664cade9f7b230fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">s8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#gabd3061e00845603168e83981a7fbeaa4">emvHalSetStandard</a> (<a class="el" href="group__emv_hal.html#gae3a828870ffbaeb8a604357300b61964">EmvHalStandard_t</a> standard)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the RFID standard to be used by the EMV HAL layer.  <a href="#gabd3061e00845603168e83981a7fbeaa4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">s8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#ga28e47686b13d28238c4ae5794de9d61c">emvHalSetErrorHandling</a> (<a class="el" href="group__emv_hal.html#gaf325c890a4b7b44ef26e6fb3d36b2cfa">EmvHalErrorHandling_t</a> errorHandling)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the EMV error handling mode.  <a href="#ga28e47686b13d28238c4ae5794de9d61c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">s8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#ga7e36f95bb30052f93dd254bc18a9e835">emvHalActivateField</a> (bool_t activateField)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate or deactivate the reader field.  <a href="#ga7e36f95bb30052f93dd254bc18a9e835"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#ga2da4c8134b17bcad7dfe6c41510f119f">emvHalFieldIsActivated</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the reader field is activated or not.  <a href="#ga2da4c8134b17bcad7dfe6c41510f119f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">s8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#ga2f67d17faf45fe6fe24c8b37ee258b64">emvHalResetField</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the reader field.  <a href="#ga2f67d17faf45fe6fe24c8b37ee258b64"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">s8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#ga44bbb908adba3b0524f1b07820d1e89d">emvHalTransceive</a> (const u8 *request, size_t requestLength, u8 *response, size_t maxResponseLength, size_t *responseLength, u32 timeout, <a class="el" href="group__emv_hal.html#ga41b19fbc2477bf08d616136e56b6b5ef">EmvHalTransceiveMode_t</a> transceiveMode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a request to the PICC and store the response.  <a href="#ga44bbb908adba3b0524f1b07820d1e89d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">s8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#gac303b5790ebf24422f0b6f89266c9410">emvHalSetAs3911TypeBModulationMode</a> (<a class="el" href="group__as3911_rfid_com.html#ga9860369f946c6932c18c7ca07da4351a">AS3911ModulationLevelMode_t</a> modulationLevelMode, const void *modulationLevelModeData)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set AS3911 type B modulation mode.  <a href="#gac303b5790ebf24422f0b6f89266c9410"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
EMV HAL error codes.</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#gacb7d4b2248952d4971c4ea4c8d68b13a">EMV_HAL_ERR_OK</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#gaa7230e1715a988cccf5c7d8de48d7d2d">EMV_HAL_ERR_TIMEOUT</a>&#160;&#160;&#160;-1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#gabe982ffddb49e24409a47b7b12053a6f">EMV_HAL_ERR_OVERFLOW</a>&#160;&#160;&#160;-2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#ga7141cbba469d3d09cde10c2cef5350b9">EMV_HAL_ERR_ENCODING</a>&#160;&#160;&#160;-3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emv_hal.html#ga55fc8ec14bdd29d1e6a874dc655ea9dd">EMV_HAL_ERR_PARAM</a>&#160;&#160;&#160;-4</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>This moduel abstracts the RFID hardware in use from the EMV L1 contactless communication protocol stack. Any access to the RFID hardware from the EMV module is done via the API provided by this HAL. This allows to adapt to future RFID chips from AMS with only minimum changes to the EMV software. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga7141cbba469d3d09cde10c2cef5350b9"></a><!-- doxytag: member="emv_hal.h::EMV_HAL_ERR_ENCODING" ref="ga7141cbba469d3d09cde10c2cef5350b9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMV_HAL_ERR_ENCODING&#160;&#160;&#160;-3</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Encoding error (CRC, parity, bit encoding, or framing). </p>

</div>
</div>
<a class="anchor" id="gacb7d4b2248952d4971c4ea4c8d68b13a"></a><!-- doxytag: member="emv_hal.h::EMV_HAL_ERR_OK" ref="gacb7d4b2248952d4971c4ea4c8d68b13a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMV_HAL_ERR_OK&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>No error. </p>

</div>
</div>
<a class="anchor" id="gabe982ffddb49e24409a47b7b12053a6f"></a><!-- doxytag: member="emv_hal.h::EMV_HAL_ERR_OVERFLOW" ref="gabe982ffddb49e24409a47b7b12053a6f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMV_HAL_ERR_OVERFLOW&#160;&#160;&#160;-2</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Buffer overflow error. </p>

</div>
</div>
<a class="anchor" id="ga55fc8ec14bdd29d1e6a874dc655ea9dd"></a><!-- doxytag: member="emv_hal.h::EMV_HAL_ERR_PARAM" ref="ga55fc8ec14bdd29d1e6a874dc655ea9dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMV_HAL_ERR_PARAM&#160;&#160;&#160;-4</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Invalid function call parameter. </p>

</div>
</div>
<a class="anchor" id="gaa7230e1715a988cccf5c7d8de48d7d2d"></a><!-- doxytag: member="emv_hal.h::EMV_HAL_ERR_TIMEOUT" ref="gaa7230e1715a988cccf5c7d8de48d7d2d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMV_HAL_ERR_TIMEOUT&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Timeout error. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gaf325c890a4b7b44ef26e6fb3d36b2cfa"></a><!-- doxytag: member="emv_hal.h::EmvHalErrorHandling_t" ref="gaf325c890a4b7b44ef26e6fb3d36b2cfa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__emv_hal.html#gaf325c890a4b7b44ef26e6fb3d36b2cfa">EmvHalErrorHandling_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>EMV error handling to use. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaf325c890a4b7b44ef26e6fb3d36b2cfaa7b186c13d87ff903b6207ddec71b917a"></a><!-- doxytag: member="EMV_HAL_PREACTIVATION_ERROR_HANDLING" ref="ggaf325c890a4b7b44ef26e6fb3d36b2cfaa7b186c13d87ff903b6207ddec71b917a" args="" -->EMV_HAL_PREACTIVATION_ERROR_HANDLING</em>&nbsp;</td><td>
<p>Error handling as required prior to card activation. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf325c890a4b7b44ef26e6fb3d36b2cfaa2cc939ddd0772de495b5b9018445e0b2"></a><!-- doxytag: member="EMV_HAL_LAYER4_ERROR_HANDLING" ref="ggaf325c890a4b7b44ef26e6fb3d36b2cfaa2cc939ddd0772de495b5b9018445e0b2" args="" -->EMV_HAL_LAYER4_ERROR_HANDLING</em>&nbsp;</td><td>
<p>Error handling as required after card activation. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="gae3a828870ffbaeb8a604357300b61964"></a><!-- doxytag: member="emv_hal.h::EmvHalStandard_t" ref="gae3a828870ffbaeb8a604357300b61964" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__emv_hal.html#gae3a828870ffbaeb8a604357300b61964">EmvHalStandard_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>RFID data transmission standard. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggae3a828870ffbaeb8a604357300b61964a675222474207e0ce3c843dbc53c5a557"></a><!-- doxytag: member="EMV_HAL_TYPE_A" ref="ggae3a828870ffbaeb8a604357300b61964a675222474207e0ce3c843dbc53c5a557" args="" -->EMV_HAL_TYPE_A</em>&nbsp;</td><td>
<p>ISO14443-A. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggae3a828870ffbaeb8a604357300b61964a2b41a686151fe5cafbe544ac37600465"></a><!-- doxytag: member="EMV_HAL_TYPE_B" ref="ggae3a828870ffbaeb8a604357300b61964a2b41a686151fe5cafbe544ac37600465" args="" -->EMV_HAL_TYPE_B</em>&nbsp;</td><td>
<p>ISO14443-B. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="ga41b19fbc2477bf08d616136e56b6b5ef"></a><!-- doxytag: member="emv_hal.h::EmvHalTransceiveMode_t" ref="ga41b19fbc2477bf08d616136e56b6b5ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__emv_hal.html#ga41b19fbc2477bf08d616136e56b6b5ef">EmvHalTransceiveMode_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Tansceive mode flags. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga41b19fbc2477bf08d616136e56b6b5efaf3218aacbe68e715e961add20a3f4f36"></a><!-- doxytag: member="EMV_HAL_TRANSCEIVE_WITH_CRC" ref="gga41b19fbc2477bf08d616136e56b6b5efaf3218aacbe68e715e961add20a3f4f36" args="" -->EMV_HAL_TRANSCEIVE_WITH_CRC</em>&nbsp;</td><td>
<p>Transmit and receive with CRC. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga41b19fbc2477bf08d616136e56b6b5efa303088e16752f9e7fc4de510f7e74a80"></a><!-- doxytag: member="EMV_HAL_TRANSCEIVE_WITHOUT_CRC" ref="gga41b19fbc2477bf08d616136e56b6b5efa303088e16752f9e7fc4de510f7e74a80" args="" -->EMV_HAL_TRANSCEIVE_WITHOUT_CRC</em>&nbsp;</td><td>
<p>Transmit and receive without CRC. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga41b19fbc2477bf08d616136e56b6b5efa5e45e02ba817488999c5c11c25ed91e8"></a><!-- doxytag: member="EMV_HAL_TRANSCEIVE_WUPA" ref="gga41b19fbc2477bf08d616136e56b6b5efa5e45e02ba817488999c5c11c25ed91e8" args="" -->EMV_HAL_TRANSCEIVE_WUPA</em>&nbsp;</td><td>
<p>Transmit an ISO14443-A WUPA short frame. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga7e36f95bb30052f93dd254bc18a9e835"></a><!-- doxytag: member="emv_hal.h::emvHalActivateField" ref="ga7e36f95bb30052f93dd254bc18a9e835" args="(bool_t activateField)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 emvHalActivateField </td>
          <td>(</td>
          <td class="paramtype">bool_t&#160;</td>
          <td class="paramname"><em>activateField</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">activateField</td><td>TRUE: Activate the reader field. <br/>
 FALSE: Deactivate the reader field.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EMV_HAL_ERR_OK: No error, operation successful. </dd>
<dd>
EMV_HAL_ERR_IO: Error during communication. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2da4c8134b17bcad7dfe6c41510f119f"></a><!-- doxytag: member="emv_hal.h::emvHalFieldIsActivated" ref="ga2da4c8134b17bcad7dfe6c41510f119f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t emvHalFieldIsActivated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE: The reader field is activated. </dd>
<dd>
FALSE: The reader field is deactivated. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2f67d17faf45fe6fe24c8b37ee258b64"></a><!-- doxytag: member="emv_hal.h::emvHalResetField" ref="ga2f67d17faf45fe6fe24c8b37ee258b64" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 emvHalResetField </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset the reader operating field according to requirement PCD 3.2.6.1 .</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The field will be active after the reset operation, even if it was inactive prior to the function call.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EMV_HAL_ERR_OK: No error, operation successful. </dd>
<dd>
EMV_HAL_ERR_IO: Error during communication. </dd></dl>

</div>
</div>
<a class="anchor" id="gac303b5790ebf24422f0b6f89266c9410"></a><!-- doxytag: member="emv_hal.h::emvHalSetAs3911TypeBModulationMode" ref="gac303b5790ebf24422f0b6f89266c9410" args="(AS3911ModulationLevelMode_t modulationLevelMode, const void *modulationLevelModeData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 emvHalSetAs3911TypeBModulationMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__as3911_rfid_com.html#ga9860369f946c6932c18c7ca07da4351a">AS3911ModulationLevelMode_t</a>&#160;</td>
          <td class="paramname"><em>modulationLevelMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>modulationLevelModeData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">modulationLevelMode</td><td>AS3911 modulation leve adjustment mode for type B communication. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">modulationLevelModeData</td><td>Additional data for the AS3911 type B modulation level adjustment mode. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga28e47686b13d28238c4ae5794de9d61c"></a><!-- doxytag: member="emv_hal.h::emvHalSetErrorHandling" ref="ga28e47686b13d28238c4ae5794de9d61c" args="(EmvHalErrorHandling_t errorHandling)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 emvHalSetErrorHandling </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__emv_hal.html#gaf325c890a4b7b44ef26e6fb3d36b2cfa">EmvHalErrorHandling_t</a>&#160;</td>
          <td class="paramname"><em>errorHandling</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">errorHandling</td><td>EMV error handling mode.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EMV_HAL_ERR_OK: No error, operation successfull. </dd></dl>

</div>
</div>
<a class="anchor" id="gabd3061e00845603168e83981a7fbeaa4"></a><!-- doxytag: member="emv_hal.h::emvHalSetStandard" ref="gabd3061e00845603168e83981a7fbeaa4" args="(EmvHalStandard_t standard)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 emvHalSetStandard </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__emv_hal.html#gae3a828870ffbaeb8a604357300b61964">EmvHalStandard_t</a>&#160;</td>
          <td class="paramname"><em>standard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">standard</td><td>RFID standard to use for any subsequent data transmission.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EMV_HAL_ERR_OK: No error, operation successfull. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5bd090c73c3cc59b664cade9f7b230fb"></a><!-- doxytag: member="emv_hal.h::emvHalSleepMilliseconds" ref="ga5bd090c73c3cc59b664cade9f7b230fb" args="(u16 milliseconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emvHalSleepMilliseconds </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>milliseconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">milliseconds</td><td>Number of milliseconds to wait. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga44bbb908adba3b0524f1b07820d1e89d"></a><!-- doxytag: member="emv_hal.h::emvHalTransceive" ref="ga44bbb908adba3b0524f1b07820d1e89d" args="(const u8 *request, size_t requestLength, u8 *response, size_t maxResponseLength, size_t *responseLength, u32 timeout, EmvHalTransceiveMode_t transceiveMode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 emvHalTransceive </td>
          <td>(</td>
          <td class="paramtype">const u8 *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>requestLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxResponseLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>responseLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__emv_hal.html#ga41b19fbc2477bf08d616136e56b6b5ef">EmvHalTransceiveMode_t</a>&#160;</td>
          <td class="paramname"><em>transceiveMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Transmission and reception are done using the currently active standard (see <a class="el" href="group__emv_hal.html#gabd3061e00845603168e83981a7fbeaa4" title="Set the RFID standard to be used by the EMV HAL layer.">emvHalSetStandard()</a>) and error handling mode (see <a class="el" href="group__emv_hal.html#ga28e47686b13d28238c4ae5794de9d61c" title="Set the EMV error handling mode.">emvHalSetErrorHandling()</a>).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>Buffer holding the request data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">requestLength</td><td>Length of the request data in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">response</td><td>Buffer to store the PICCs response. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxResponseLength</td><td>Length of the response buffer in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">responseLength</td><td>Set to the length of the received repsonse in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>Timeout in carrier cycles. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">transceiveMode</td><td>EMV_HAL_TRANSCEIVE_WITH_CRC: A crc is appended to the transmit data during transmission, and the crc of the received data is checked. EMV_HAL_TRANSCEIVE_WITHOUT_CRC: No crc is appended to the transmit data. No crc check is performed on the received data. EMV_HAL_TRANSCEIVE_WUPA: A wupa request is transmitted (the content of the request buffer is ignored). No crc check is performed on the received data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EMV_ERR_OK: A response from the PICC has been correctly received. </dd>
<dd>
EMV_ERR_TIMEOUT: No response has been received. </dd>
<dd>
EMV_ERR_ENCODING: A transmission error (parity, crc, bit collision...) occured. </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Apr 17 2012 12:33:40 for AS3911 EMV L1 Certification Firmware by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
